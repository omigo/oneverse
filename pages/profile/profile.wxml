<view class="container">
  <!-- 用户信息区域 -->
  <view class="user-info">
    <block wx:if="{{!hasUserInfo}}">
      <button class="avatar-btn" bindtap="getUserProfile">
        <image class="avatar" src="/assets/icons/profile.png" mode="aspectFill"></image>
      </button>
      <button class="login-btn" bindtap="getUserProfile">点击登录</button>
    </block>
    <block wx:else>
      <image class="avatar" src="{{userInfo.avatarUrl}}" mode="aspectFill"></image>
      <text class="nickname">{{userInfo.nickName}}</text>
    </block>
  </view>

  <!-- 收藏列表 -->
  <view class="collection-list">
    <view class="title">我的收藏</view>
    <block wx:if="{{loading}}">
      <view class="loading">加载中...</view>
    </block>
    <block wx:elif="{{verses.length === 0}}">
      <view class="empty">暂无收藏</view>
    </block>
    <block wx:else>
      <view class="verse-list">
        <view class="verse-item" wx:for="{{verses}}" wx:key="_id">
          <view class="verse-content" bindtap="navigateToDetail" data-id="{{item._id}}">
            <text class="text">{{item.verse}}</text>
            <view class="info">
              <text class="author" wx:if="{{item.author}}" bindtap="navigateToAuthor" data-author="{{item.author}}">{{item.author}}</text>
              <text class="source" wx:if="{{item.source}}" bindtap="navigateToSource" data-source="{{item.source}}">{{item.source}}</text>
            </view>
          </view>
          <view class="actions">
            <view class="stats">
              <text class="likes">{{item.likes || 0}} 赞</text>
              <text class="comments">{{item.comments || 0}} 评论</text>
            </view>
            <view class="uncollect" bindtap="handleUncollect" data-id="{{item._id}}">
              <image class="icon" src="/assets/icons/star-filled.png" mode="aspectFit"></image>
            </view>
          </view>
        </view>
      </view>
    </block>
  </view>
</view>